<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Forms Task 1</title>
    <script>
        /*
        Задание:
          Сделать валидацию формы:
          1. Логин / Пароль не может быть пустым
          2. Пароли должны совпадть
          3. Пока не стоит что юзер согласен с лиц. соглашением - кнопка отправки не активна

          + бонус - то поле, которое не прошло валидацию подсвечивать красным.
                  - которое прошло - подсвечивать зеленым.
      */
        window.addEventListener('load', function () {
          var form = document.getElementById('MyValidateForm');
          var log = form.elements.login;
          
          log.addEventListener('change', function (el) {
            if (log.value.length < 1) {
              log.style.border = '3px solid red';
            } else {
              log.style.border = '3px solid green';
            }
          });

          var pass = Array.from(document.getElementsByClassName('pass'));
          pass.forEach( (el1) => {
            el1.addEventListener('change', function () {
              if (el1.value.length < 1) {
                el1.style.border = '3px solid red';
              } else {
                el1.style.border = '3px solid green';
              }
              if (pass[0].value !== pass[1].value) {
                btn.disabled = true;
                pass[1].style.border = '3px solid red';
              }
            })
          });

          var btn = document.getElementById('submit');
          var checkbox = document.getElementById('agree');
          
          checkbox.addEventListener('click', function () {
            if (checkbox.checked && pass[0].value == pass[1].value) {
              btn.disabled = false;
            } else {
              btn.disabled = true;
            }
          })

        })
    </script>
  </head>
  <body>
    <form id="MyValidateForm">
      <input type="text" name="login" placeholder="Ваш логин" />
      <input type="password" name="pas1" class="pass" placeholder="Ваш пароль" />
      <input type="password" name="pas2" class="pass" placeholder="Повторите пароль" />
      <label for="agree">
        <span>Вы согласны с лицензионым соглашением.</span>
        <input type="checkbox" id="agree" />
      </label>
      <input type="submit" id="submit" value="Отправить" disabled />
    </form>

    <style>
      #MyValidateForm {
        width: 350px;
        display: flex;
        flex-direction: column;
      }

      #MyValidateForm input {
        margin-bottom: 10px;
        box-sizing: border-box;
        padding: 10px 20px;
      }
      .error {
        border: 1px solid red;
      }
      .OK {
        border: 1px solid green;
      }
    </style>
  </body>
</html>
